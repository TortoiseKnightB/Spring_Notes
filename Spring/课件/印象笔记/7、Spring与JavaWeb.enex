<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE en-export SYSTEM "http://xml.evernote.com/pub/evernote-export2.dtd">
<en-export export-date="20220504T082706Z" application="Evernote/Windows" version="6.x">
<note><title>7、Spring与JavaWeb</title><content><![CDATA[<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE en-note SYSTEM "http://xml.evernote.com/pub/enml2.dtd"><en-note><div>Spring和JavaWeb整合使用；</div><div>1）、Spring来控制事务（dao--JdbcTemplate）</div><div>2）、所有的组件Autowired；</div><div>3）、管理数据库。。。</div><div><br/></div><div><hr/></div><div>Spring与JavaWeb整合；</div><div>1、导包</div><div>2、写配置</div><div>&nbsp; &nbsp; &nbsp;1）、将所有组件加入容器中,并能正确获取</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;@Controller：servlet层；目前不能标注在servlet层；</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;@Service：业务逻辑层</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;@Repository：dao层</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;@Component：其他组件</div><div><br/></div><div>&nbsp; &nbsp; &nbsp;2）、每个组件之间自动装配；</div><div><br/></div><div>&nbsp; &nbsp; &nbsp;3）、配置出声明式事务；</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;事务管理器控制数据库连接池；</div><div><br/></div><div>&nbsp; &nbsp; &nbsp;ioc容器创建和销毁都要在合适的时机完成；</div><div>&nbsp; &nbsp; &nbsp;项目启动：{</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; IOC创建完成</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><div>&nbsp; &nbsp; &nbsp;</div><div>&nbsp; &nbsp; &nbsp;项目销毁{</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; IOC销毁；</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><div>&nbsp; &nbsp; &nbsp; 可以写一个监听器完成这个工作；</div><div>&nbsp; &nbsp; &nbsp;Spring帮我们写好了这个监听器；</div><div align="left" style="min-height: 18pt;"><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>&nbsp;&lt;!-- needed for ContextLoaderListener --&gt;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&lt;context-param&gt;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;param-value&gt;classpath:applicationContext.xml&lt;/param-value&gt;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/context-param&gt;</div><div><br/></div><div>&nbsp;&nbsp;&nbsp;&nbsp;&lt;!-- Bootstraps the root web application context before servlet initialization --&gt;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&lt;listener&gt;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;</div><div>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/listener&gt;</div></div><div><br/></div></div><div>&nbsp; &nbsp; &nbsp;这个监听器创建好的ioc容器在
<div align="left" style="min-height: 18pt;"><div><font face="Consolas" size="4"><span style="font-size:16pt; background:#e8f2fe">ContextLoader---</span></font></div><div align="left" style="min-height: 18pt;"><div><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size:16pt">/**这个属性就是ioc容器</span></font><font color="#3F5FBF" face="Consolas" size="4"><span style="font-size:16pt">&nbsp;*/</span></font></div></div><div align="left" style="min-height: 18pt;"><div><font color="#7F0055" face="Consolas" size="4"><span style="font-size:16pt"><b>private</b></span></font> <font face="Consolas" size="4"><span style="font-size:16pt">WebApplicationContext</span></font> <font color="#0000C0" face="Consolas" size="4"><span style="font-size:16pt">context</span></font><font face="Consolas" size="4"><span style="font-size:16pt">;</span></font></div><div><span style="font-family: Consolas;"><br/></span></div><div><font face="Consolas">有一个静态方法能获取</font></div><div align="left" style="min-height: 18pt;"><div><font face="Consolas" size="4"><span style="font-size:16pt; background:#d4d4d4">getCurrentWebApplicationContext</span></font></div><div><br/></div></div></div></div></div><div><br/></div><div><br/></div><div><br/></div><div>3、测试</div><div><br/></div></en-note>]]></content><created>20220404T092357Z</created><note-attributes><author>雷丰阳</author><source>desktop.win</source><source-application>evernote.win32</source-application></note-attributes></note></en-export>
